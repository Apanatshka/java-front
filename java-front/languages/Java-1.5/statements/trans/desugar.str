module languages/Java-1.5/statements/trans/desugar

imports
	
  include/Java
  names

rules
	
  desugar:
    LocalVarDecStm(LocalVarDec(m*, t, vardec*)) -> <map(desugar-localvardec(|m*, t))> vardec*
    
  desugar-localvardec(|m*, t):
    v -> LocalVarDec(m*, t, <try(desugar-vardec-arrayinit(|t))> v)
    
  desugar-vardec-arrayinit(|type):
  	VarDec(v, ArrayInit(init*)) -> VarDec(v, NewArrayInit(ty, [Dim()], ArrayInit(init*)))
  	where
  		ArrayType(ty) := type